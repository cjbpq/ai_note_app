# 测试依赖包
# 学习要点: 将测试依赖分离到独立文件, 避免污染生产环境

# ========================================
# 核心测试框架
# ========================================
pytest==7.4.3                # 测试框架
pytest-asyncio==0.21.1       # 异步测试支持
pytest-mock==3.12.0          # Mock 和 monkeypatch 增强
pytest-cov==4.1.0            # 代码覆盖率统计

# ========================================
# 测试数据生成
# ========================================
factory-boy==3.3.0           # 测试数据工厂模式
Faker==20.1.0                # 随机测试数据生成

# ========================================
# 黄金文件测试
# ========================================
deepdiff==6.7.1              # 深度对比 JSON 差异 (支持排除字段, 忽略顺序)

# ========================================
# 安全扫描工具
# ========================================
bandit==1.7.5                # Python 代码安全扫描 (SAST)
safety==2.3.5                # 依赖漏洞检测 (检查已知 CVE)

# ========================================
# 性能测试 (可选)
# ========================================
pytest-benchmark==4.0.0      # 微基准测试
locust==2.17.0               # 负载测试

# ========================================
# 学习要点:
# ========================================
# 1. pytest-cov: 自动统计测试覆盖率, 生成 HTML 报告
# 2. deepdiff: 黄金文件测试核心依赖, 智能对比 JSON 差异
# 3. factory-boy: 简化测试数据生成, 避免重复创建对象代码
# 4. bandit: 自动检测 SQL 注入, 硬编码密码等安全问题
# 5. safety: 检查依赖库是否有已知 CVE 漏洞

# ========================================
# 安装方法:
# ========================================
# pip install -r requirements-test.txt
