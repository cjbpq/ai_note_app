// === ğŸ¨ é¢œè‰²å˜é‡å®šä¹‰ (Color Palette) ===

// 1. å“ç‰Œä¸»è‰² (ä½ çš„é‚£ä¸ªé’è‰²ï¼Œå»æ‰äº†é€æ˜åº¦ï¼Œæ›´å®)
@brand-color: #57bbae;
@brand-hover: #4aa396; // é¼ æ ‡æ‚¬åœæ—¶æ·±ä¸€ç‚¹

// 2. æ–‡å­—é¢œè‰² (ä¸è¦ç”¨çº¯é»‘)
@text-main: #2c3e50; // ä¸»è¦æ–‡å­—ï¼Œæ·±è“ç°ï¼Œæ¯”çº¯é»‘æ›´æœ‰è´¨æ„Ÿ
@text-secondary: #7f8c8d; // æ¬¡è¦æ–‡å­—ï¼Œç°è‰²

// 3. èƒŒæ™¯é¢œè‰²
@bg-page: #f5f7fa; // é¡µé¢å¤§èƒŒæ™¯ï¼Œææ·¡çš„ç°è“è‰²ï¼Œå¾ˆæŠ¤çœ¼
@bg-card: #ffffff; // å†…å®¹å¡ç‰‡èƒŒæ™¯ï¼Œçº¯ç™½

// 4. è¾¹æ¡†é¢œè‰²
@border-color: #e1e4e8;

.my_container {
  width: 100vw; /* 100% çš„è§†å£å®½åº¦ */
  height: 100vh; /* 100% çš„è§†å£é«˜åº¦ */
  background-color: @bg-page; /* ä¸ºäº†æ–¹ä¾¿çœ‹åˆ°æ•ˆæœï¼ŒåŠ ä¸ªèƒŒæ™¯è‰² */
  display: flex;
  overflow: hidden; //ç¦æ­¢é¡µé¢æ•´ä½“æ»šåŠ¨ ç›¸å½“äºå›ºå®šäº†æ•´ä½“çš„é«˜

  .left {
    width: 100px;
    height: 100%;
    background-color: @brand-color;
    flex: 2;
    overflow-y: auto; //å·¦ä¾§è‡ªä¸»éšè—å’Œæ»šåŠ¨  ä½†å‰æéœ€è¦å›ºå®šé«˜åº¦ å¦åˆ™é«˜åº¦éƒ½æ²¡æœ‰æ€ä¹ˆéšè—ï¼Ÿ å¯èƒ½å¯¼è‡´ç›´æ¥è¢«bodyç»™éšè—äº†
    /* é’ˆå¯¹ Webkit å†…æ ¸æµè§ˆå™¨ (Chrome, Edge, Safari) */ //æ»šåŠ¨æ¡éšè—
    &::-webkit-scrollbar {
      display: none; /* ç›´æ¥éšè— */
    }

    h4,
    h5 {
      color: #fff; // æ·±è‰²èƒŒæ™¯ä¸Šä¸€å®šè¦ç”¨çº¯ç™½æ–‡å­—
      padding: 10px 20px;
    }
    h4 {
      margin: 8px;
      text-align: center;
      font-size: 32px;
    }
    ul {
      margin-top: 10px;
      h5 {
        display: flex;
        justify-content: space-between;
        font-size: 24px;
        font-weight: 500;
        svg {
          width: 24px;
          height: 24px;
          color: #fff;
        }
      }
      ul {
        // transition: all 0.5s;  æ²¡æœ‰ç”Ÿæ•ˆï¼Œå› ä¸ºæµè§ˆå™¨è®¤ä¸ºä»noneåˆ°blockæ²¡æœ‰ä¸­é—´è¿‡ç¨‹
        max-height: 500px;
        /* å¿…é¡»è®¾ç½® overflow: hidden å¦åˆ™å†…å®¹ä¼šæº¢å‡º */
        overflow: hidden;
        opacity: 1;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); /* ä½¿ç”¨è´å¡å°”æ›²çº¿æ›´è‡ªç„¶ */

        a {
          display: block;
          width: 100%;
        }

        /* æŠ˜å çŠ¶æ€ */
        &.collapsed {
          max-height: 0;
          opacity: 0;
          margin: 0;
          padding: 0;
        }
      }
      li {
        // å­åº“/èœå•é¡¹çš„æ ·å¼
        background-color: rgba(255, 255, 255, 0.1); // æ–¹æ¡ˆï¼š10%é€æ˜ç™½
        margin: 8px 12px; // ç•™ç‚¹é—´è·ï¼Œä¸è¦æŒ¤åœ¨ä¸€èµ·
        border-radius: 8px; // åœ†è§’ï¼Œä¿æŒé£æ ¼ç»Ÿä¸€
        color: #fff;
        transition: all 0.2s;
        padding: 4px;
        &:hover {
          background-color: rgba(255, 255, 255, 0.25);
          cursor: pointer;
        }
      }
    }
  }

  .right {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    flex: 8;
    padding: 20px;
    position: relative;
    /* ä¿®æ”¹ï¼šå»æ‰ç™½è‰²èƒŒæ™¯ï¼Œè®©å®ƒé€å‡ºåº•éƒ¨çš„æµ…ç°è‰²ï¼Œè¿™æ ·å¡ç‰‡çš„ç™½è‰²æ‰èƒ½æ˜¾ç°å‡ºæ¥ */
    background-color: transparent;
    overflow-y: auto; //å³ä¾§è‡ªä¸»éšè—å’Œæ»šåŠ¨
    /* é’ˆå¯¹ Webkit å†…æ ¸æµè§ˆå™¨ (Chrome, Edge, Safari) */ //æ»šåŠ¨æ¡éšè—
    &::-webkit-scrollbar {
      display: none; /* ç›´æ¥éšè— */
    }
    .user {
      display: flex;
      position: absolute;
      right: 80px;
      top: 20px;
      img {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        overflow: hidden;
        object-fit: cover;
        display: block;
        &:hover {
          cursor: pointer;
        }
      }
      span {
        padding-left: 8px;
        align-items: center;
        line-height: 40px;
        font-size: 16px;
        color: @text-main;
      }
    }
    .upload {
      width: 256px;
      height: 256px;
      background-color: @brand-color;
      border-radius: 50%;
      margin-top: 100px;
      text-align: center;
      line-height: 256px;
      svg {
        width: 100%;
        height: 100%;
        color: #ffffff;
      }

      /* å…³é”®ç‚¹1ï¼štransition å†™åœ¨åŸå§‹çŠ¶æ€ï¼Œç¡®ä¿ç§»å…¥ç§»å‡ºéƒ½æœ‰åŠ¨ç”» */
      transition: all 0.3s ease;

      /* å…³é”®ç‚¹2ï¼šä½¿ç”¨ & ç¬¦å·è¿æ¥ä¼ªç±» */
      &:hover {
        background-color: @brand-hover;
        cursor: pointer;

        /* å…³é”®ç‚¹3ï¼šä½¿ç”¨ transform ç¼©æ”¾ï¼Œæ€§èƒ½æ›´å¥½ä¸”ä¸å½±å“å¸ƒå±€ */
        transform: scale(1.05);

        /* å¦‚æœä½ éè¦æ”¹å®½é«˜ï¼Œè®°å¾—ç”¨ calc ä¿®æ­£ margin å¦åˆ™ä¼šåï¼Œä½†å¼ºçƒˆæ¨èç”¨ scale */
      }
    }
    .btn-primary {
      margin-top: 16px;
    }
    .tips {
      margin-top: 8px;
      color: #2c3e50;
    }
    .card {
      //!åœ¨è¿™é‡Œä¿®æ”¹æµ‹è¯•
      display: none;
      position: relative;
      flex-direction: column;
      align-items: center;
      margin: 24px;
      width: 800px;
      height: 512px;

      /* ä¿®æ”¹ï¼šå¡ç‰‡ä½¿ç”¨çº¯ç™½ï¼Œé…åˆåº•éƒ¨çš„æµ…ç°èƒŒæ™¯ï¼Œä¼šéå¸¸æœ‰å±‚æ¬¡æ„Ÿ */
      background-color: #ffffff;

      border-radius: 24px;

      /* 1. ä¿®å¤è¾¹æ¡†ï¼šå¿…é¡»æŒ‡å®šæ ·å¼ (solid/dashed/dotted) */
      border: 2px solid @border-color;

      /* 2. æ·»åŠ é˜´å½±ï¼šxåç§» yåç§» æ¨¡ç³ŠåŠå¾„ æ‰©å±•åŠå¾„ é¢œè‰² */
      /* è¿™æ˜¯ä¸€ä¸ªå¾ˆç°ä»£ã€æŸ”å’Œçš„é˜´å½± */
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);

      .output {
        /* ä¿®æ”¹æ–¹æ¡ˆï¼šææ·¡çš„å†·ç°è‰²èƒŒæ™¯ï¼Œä¸“ä¸šã€ä¸­æ€§ï¼Œçªå‡ºæ–‡å­—å†…å®¹ */
        background-color: #f9fafb;

        /* ç°è‰²è¾¹æ¡†ï¼Œä¿æŒä½è°ƒ */
        border: 1px solid #e5e7eb;

        min-height: 200px;
        max-width: 700px;
        width: 90%;
        margin: 16px 0px 40px 0px;
        padding: 24px;
        border-radius: 8px;
        /* å¦‚æœå†…å®¹å¤ªé•¿ï¼Œæ˜¾ç¤ºæ»šåŠ¨æ¡ */
        height: 400px; /* å›ºå®šé«˜åº¦ */
        overflow-y: auto;
        p {
          color: @text-main;
          line-height: 1.6; /* å¢åŠ è¡Œé«˜ï¼Œé˜…è¯»æ›´èˆ’é€‚ */
        }
      }
      .save {
        position: absolute;
        right: 40px;
        bottom: 4px;
        width: 60px;
        height: 32px;
        font-size: 30px;
        line-height: 24px;
        text-align: center;
        border-radius: 12px;
        background-color: @brand-color;
        color: #fff;
        transition: all 0.3s;
        &:hover {
          cursor: pointer;
          background-color: @brand-hover;
        }
        &.disabled {
          background-color: #ccc; // å˜ç°
          cursor: not-allowed; // é¼ æ ‡å˜æˆç¦æ­¢ç¬¦å·
          pointer-events: none; // å…³é”®ï¼šç¦æ­¢æ‰€æœ‰é¼ æ ‡äº‹ä»¶ï¼ˆç‚¹å‡»æ— æ•ˆï¼‰
          opacity: 0.6; // ç¨å¾®é€æ˜ä¸€ç‚¹
        }
      }
    }
  }
  .modal_overlay {
    //è®¾ç½®ä¸€ä¸ªå…¨å±çš„é®ç½©å±‚ åŒæ—¶ä¸ºå…¶æ·»åŠ é¢œè‰²
    display: none; //æµ‹è¯•åœ¨è¿™é‡Œä¿®æ”¹
    //ç¡®ä¿é®ç½©å±‚çš„ä½ç½®å’Œå¤§å°  å…¨å±è¦†ç›–ä½¿å¾—ç”¨æˆ·æ— æ³•è¿›è¡Œå…¶ä»–æ“ä½œ
    position: fixed;
    z-index: 999; //æ³¨æ„è¦ä½äºå¼¹çª—ä¹‹ä¸‹
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.5); //åŠé€æ˜é»‘è‰²
    //å¼¹çª—ä½äºä¸­å¿ƒ
    align-items: center;
    justify-content: center;
    .library_choose {
      //å®šä½ç”¨é®ç½©å±‚çš„å®šä½æ›¿ä»£
      // position: fixed;
      // left: 50%;
      // top: 50%;
      // transform: translate(-50%, -50%);
      z-index: 1000;
      width: 400px;
      height: 600px;
      background-color: #fff;
      border-radius: 16px;
      padding: 16px 0px;
      p {
        font-size: 20px;
        text-align: center;
        color: @text-main;
      }
      ul {
        margin: 0px;
        padding: 0px;
        li {
          padding: 12px 16px;
          transition: all 0.2s;
          &:nth-child(odd) {
            background-color: #fff;
          }
          &:nth-child(even) {
            background-color: #f9fafb;
          }
          &:hover {
            cursor: pointer;
            background-color: #f3f4f6;
          }
        }
      }
    }
  }
}

// ============================================
// ğŸ“± ç§»åŠ¨ç«¯å“åº”å¼é€‚é…
// ============================================

@mobile: 768px;

// === æŠ½å±‰é®ç½©å±‚æ ·å¼ ===
.drawer-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 998;
  opacity: 0;
  transition: opacity 0.3s ease;

  &.show {
    display: block;
    opacity: 1;
  }
}

// === æ±‰å ¡èœå•æŒ‰é’®ï¼ˆmainé¡µé¢ä¸“ç”¨ï¼Œå› ä¸ºèƒŒæ™¯æ˜¯æµ…è‰²ï¼‰ ===
.my_container .hamburger-btn {
  display: none;
  position: absolute;
  left: 16px;
  top: 16px;
  flex-direction: column;
  justify-content: space-between;
  width: 28px;
  height: 20px;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  z-index: 1001;

  span {
    display: block;
    width: 100%;
    height: 3px;
    background-color: @brand-color; // æµ…è‰²èƒŒæ™¯ç”¨å“ç‰Œè‰²
    border-radius: 2px;
    transition: all 0.3s ease;
  }

  &.active {
    span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }
    span:nth-child(2) {
      opacity: 0;
    }
    span:nth-child(3) {
      transform: rotate(-45deg) translate(6px, -6px);
    }
    span {
      background-color: #fff;
    }
  }
}

// === 768px åª’ä½“æŸ¥è¯¢ ===
@media (max-width: @mobile) {
  .my_container {
    // æ˜¾ç¤ºæ±‰å ¡èœå•
    .hamburger-btn {
      display: flex;
    }

    // å·¦ä¾§ç›®å½•æ æ”¹ä¸ºæŠ½å±‰å¼
    .left {
      position: fixed;
      left: 0;
      top: 0;
      width: 70%; // ç§»åŠ¨ç«¯å®½åº¦å  70%
      max-width: 280px;
      height: 100%;
      z-index: 999;
      transform: translateX(-100%); // é»˜è®¤éšè—åœ¨å·¦ä¾§
      transition: transform 0.3s ease;

      // æ‰“å¼€çŠ¶æ€
      &.open {
        transform: translateX(0);
      }

      h4 {
        font-size: 24px; // ç¼©å°æ ‡é¢˜
        padding: 16px;
      }
    }

    // å³ä¾§å†…å®¹åŒºå æ»¡
    .right {
      flex: 1;
      width: 100%;
      padding: 16px;
      padding-top: 60px; // ä¸ºæ±‰å ¡æŒ‰é’®ç•™å‡ºç©ºé—´

      // ç”¨æˆ·å¤´åƒä½ç½®è°ƒæ•´
      .user {
        right: 16px;
        top: 16px;

        span {
          display: none; // ç§»åŠ¨ç«¯éšè—ç”¨æˆ·åï¼Œåªæ˜¾ç¤ºå¤´åƒ
        }
      }

      // ä¸Šä¼ æŒ‰é’®ç¼©å°
      .upload {
        width: 120px;
        height: 120px;
        line-height: 120px;
        margin-top: 40px;
      }

      // å¡ç‰‡å“åº”å¼
      .card {
        width: 95%;
        max-width: 800px;
        height: auto;
        min-height: 400px;
        margin: 16px auto;

        .output {
          max-width: 100%;
          width: 95%;
          height: auto;
          min-height: 200px;
          max-height: 300px;
        }

        .save {
          position: relative;
          right: auto;
          bottom: auto;
          margin: 16px auto;
        }
      }
    }

    // é€‰æ‹©å¼¹çª—å“åº”å¼
    .modal_overlay {
      .library_choose {
        width: 90%;
        max-width: 400px;
        height: auto;
        max-height: 70vh;
        overflow-y: auto;
      }
    }
  }

  // è§¦æ‘¸åé¦ˆ
  .upload:active,
  .save:active,
  .btn:active {
    opacity: 0.7;
    transition: opacity 0.1s;
  }
}

// === 480px å°å±æ‰‹æœºè¿›ä¸€æ­¥ä¼˜åŒ– ===
@media (max-width: 480px) {
  .my_container {
    .right {
      .upload {
        width: 100px;
        height: 100px;
        line-height: 100px;
      }

      .card {
        .output {
          padding: 16px;
        }

        h2 {
          font-size: 20px;
        }
      }
    }
  }
}

@media (max-width: 1024px) {
  .my_container {
    .left {
      flex: 4;
    }
  }
}
